<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Poaching Detection System</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 20px;
        color: #333;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }

      h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 30px;
      }

      h2 {
        color: #34495e;
        margin-bottom: 20px;
      }

      .intro {
        background: #ecf0f1;
        padding: 20px;
        border-radius: 5px;
        margin-bottom: 30px;
        line-height: 1.6;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #2c3e50;
      }

      input[type="text"] {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
        box-sizing: border-box;
      }

      input[type="text"]:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
      }

      .btn {
        background-color: #3498db;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        width: 100%;
      }

      .btn:hover {
        background-color: #2980b9;
      }

      .btn:disabled {
        background-color: #bdc3c7;
        cursor: not-allowed;
      }

      .alert {
        padding: 15px;
        border-radius: 4px;
        margin-top: 20px;
      }

      .alert-danger {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }

      .alert-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }

      .loading {
        display: none;
        text-align: center;
        margin-top: 20px;
      }

      .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #3498db;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        animation: spin 1s linear infinite;
        margin: 0 auto 10px;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      footer {
        text-align: center;
        margin-top: 40px;
        color: #7f8c8d;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Poaching Detection System</h1>
      
      <div class="intro">
        <p><strong>About:</strong> This system uses a trained Convolutional Neural Network (CNN) model to analyze surveillance images and detect potential poaching activities. Simply provide the folder path containing your images, and the system will automatically scan them for suspicious activity.</p>
      </div>

      {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
      {% endif %}

      <form action="/" method="post" id="detectionForm">
        <div class="form-group">
          <label for="folder_path">Image Folder Path:</label>
          <input type="text" id="folder_path" name="folder_path" 
                 placeholder="e.g., C:\Users\YourName\Desktop\surveillance_images" />
        </div>
        <button type="submit" class="btn">Analyze Images</button>
      </form>

      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Analyzing images... Please wait</p>
      </div>

      {% if prediction %}
      <div class="alert alert-success">{{ prediction }}</div>
      {% endif %}
    </div>

    <footer>
      Â© 2024 Poaching Detection System
    </footer>

    <script>
      // Show loading animation when form is submitted
      document.getElementById('detectionForm').addEventListener('submit', function() {
        document.getElementById('loading').style.display = 'block';
        document.querySelector('.btn').disabled = true;
        document.querySelector('.btn').textContent = 'Processing...';
      });

      // Add input validation
      document.getElementById('folder_path').addEventListener('input', function() {
        const input = this;
        const button = document.querySelector('.btn');
        
        if (input.value.trim() === '') {
          button.disabled = true;
          button.style.opacity = '0.6';
        } else {
          button.disabled = false;
          button.style.opacity = '1';
        }
      });
    </script>
  </body>
</html>